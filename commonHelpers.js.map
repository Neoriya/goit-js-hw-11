{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// функції для HTTP-запитів.\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//----замінити ключ на свій, коли вийде зареєструватися-------------\nconst API_KEY = '43173775-fc7269b10cca3a5d436001063';\n\nexport function fetchImages(userRequest) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: userRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status); // Перевірка статусу відповіді сервера\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        //перевірка наявності зображень у відповіді\n        throw new Error(\n          'Sorry, there are no images matching <br>your search query.Please try again!'\n        ); // Генерується помилка, якщо список зображень порожній\n      }\n      return data.hits;\n    })\n    .catch(error => {\n      console.error('catch', error);\n      iziToast.error({\n        message: error.message,\n        backgroundColor: '#EF4040',\n        messageColor: '#FAFAFB',\n        position: 'topRight',\n      });\n      throw error;\n    });\n}\n","// функції для відображення елементів інтерфейсу.\n\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        likes,\n        views,\n        comments,\n        downloads,\n        previewURL,\n        tags,\n        id,\n      }) => `<li data-id=\"${id}\">\n      <img src=\"${previewURL}\" alt=\"${tags}\" class=\"preview-image\" width=\"360\" height=\"152\">\n      <div class=\"info-container\">\n      <div class=\"info-box\">\n        <span class=\"label\">Likes</span>\n        <span class=\"data-label\">${likes}</span>\n        </div>\n        <div class=\"info-box\">\n        <span class=\"label\">Views</span>\n        <span class=\"data-label\">${views}</span>\n        </div>\n        <div class=\"info-box\">\n        <span class=\"label\">Comments</span>\n        <span class=\"data-label\">${comments}</span>\n        </div>\n        <div class=\"info-box\">\n        <span class=\"label\">Downloads</span>\n        <span class=\"data-label\">${downloads}</span>\n        </div>\n      </div>\n  </li>`\n    )\n    .join('');\n}\n","console.log('TEST');\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { createMarkup } from './js/render-functions.js';\n\nconst searchInput = document.querySelector('input');\nconst button = document.querySelector('button');\nconst list = document.querySelector('ul');\nconst loadingMessage = document.getElementById('loading-message');\n\nsearchInput.addEventListener('input', handleInput);\nbutton.addEventListener('click', handleClick);\n\nlet userRequest;\n\nfunction handleInput(event) {\n  userRequest = event.target.value.trim().toLowerCase();\n}\n\nfunction handleClick(event) {\n  event.preventDefault(); // Запобігає перезавантаженню сторінки після натискання кнопки\n  list.innerHTML = ''; // Очищення списку перед новим пошуком\n\n  if (!userRequest || userRequest.trim() === '') {\n    return iziToast.error({\n      message: 'Sorry, the query field is empty.',\n      backgroundColor: '#EF4040',\n      messageColor: '#FAFAFB',\n      position: 'topRight',\n    });\n  }\n\n  loadingMessage.style.display = 'block'; // Показує текстове повідомлення про завантаження\n\n  fetchImages(userRequest)\n    .then(images => {\n      list.innerHTML = ''; // Очищення списку перед новим пошуком\n      list.insertAdjacentHTML('beforeend', createMarkup(images));\n    })\n    .catch(error => console.error(error))\n    .finally(() => {\n      loadingMessage.style.display = 'none'; // Приховує текстове повідомлення про завантаження\n      searchInput.value = ''; // Очищення поля вводу\n      userRequest = ''; // Обнулення змінної userRequest\n    });\n}\n"],"names":["API_KEY","fetchImages","userRequest","params","response","data","error","iziToast","createMarkup","arr","likes","views","comments","downloads","previewURL","tags","id","searchInput","button","list","loadingMessage","handleInput","handleClick","event","images"],"mappings":"svBAMA,MAAMA,EAAU,qCAET,SAASC,EAAYC,EAAa,CACvC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAC9C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAEvB,MAAM,IAAI,MACR,6EACV,EAEM,OAAOA,EAAK,IAClB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,QAASA,CAAK,EAC5BC,EAAS,MAAM,CACb,QAASD,EAAM,QACf,gBAAiB,UACjB,aAAc,UACd,SAAU,UAClB,CAAO,EACKA,CACZ,CAAK,CACL,CCzCO,SAASE,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,WAAAC,EACA,KAAAC,EACA,GAAAC,CACR,IAAY,gBAAgBA,CAAE;AAAA,kBACZF,CAAU,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,mCAIPL,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mCAIRC,CAAS;AAAA;AAAA;AAAA,QAIvC,EACA,KAAK,EAAE,CACZ,CCpCA,QAAQ,IAAI,MAAM,EAWlB,MAAMI,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAO,SAAS,cAAc,IAAI,EAClCC,EAAiB,SAAS,eAAe,iBAAiB,EAEhEH,EAAY,iBAAiB,QAASI,CAAW,EACjDH,EAAO,iBAAiB,QAASI,CAAW,EAE5C,IAAIpB,EAEJ,SAASmB,EAAYE,EAAO,CAC1BrB,EAAcqB,EAAM,OAAO,MAAM,KAAI,EAAG,aAC1C,CAEA,SAASD,EAAYC,EAAO,CAI1B,GAHAA,EAAM,eAAc,EACpBJ,EAAK,UAAY,GAEb,CAACjB,GAAeA,EAAY,KAAI,IAAO,GACzC,OAAOK,EAAS,MAAM,CACpB,QAAS,mCACT,gBAAiB,UACjB,aAAc,UACd,SAAU,UAChB,CAAK,EAGHa,EAAe,MAAM,QAAU,QAE/BnB,EAAYC,CAAW,EACpB,KAAKsB,GAAU,CACdL,EAAK,UAAY,GACjBA,EAAK,mBAAmB,YAAaX,EAAagB,CAAM,CAAC,CAC/D,CAAK,EACA,MAAMlB,GAAS,QAAQ,MAAMA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACbc,EAAe,MAAM,QAAU,OAC/BH,EAAY,MAAQ,GACpBf,EAAc,EACpB,CAAK,CACL"}